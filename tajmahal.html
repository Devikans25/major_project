<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Taj Mahal - Explore</title>
    <link rel="stylesheet" href="tajmahal.css">
    <script defer src="script.js"></script>
</head>
<body>
    <header class="header">
        <h1>Taj Mahal, Agra</h1>
    </header>

    <section class="hero">
        <img src="tajmahal.jpg" alt="Taj Mahal">
        <p>Experience the beauty and history of one of the world's greatest wonders!</p>
    </section>

    <section class="gallery">
        <h2>Photo Gallery</h2>
        <div class="image-grid">
            <img src="taj1.jpg" alt="Taj Mahal View">
            <img src="taj2.jpg" alt="Taj Mahal Inside">
            <img src="taj3.jpg" alt="Sunset at Taj Mahal">
            <img src="taj4.jpg" alt="Reflection of Taj Mahal">
        </div>
    </section>

    <section class="video-section">
        <h2>Watch & Explore</h2>
        <iframe width="1000" height="400" 
            src="https://www.youtube.com/embed/7783OO_MtQY" 
            frameborder="0" allowfullscreen>
        </iframe>
    </section>

    <section class="homestay">
        <h2>Best Homestays Near Taj Mahal</h2>
        <div class="homestay-grid">
            <div class="homestay-card">
                <img src="homestay1.jpg" alt="Agra Luxury Stay">
                <h3>Agra Luxury Stay</h3>
                <p>Comfortable stay with Taj Mahal view.</p>
                <button onclick="openBookingForm('Agra Luxury Stay', 5000)">Book Now</button>
            </div>
            <div class="homestay-card">
                <img src="homestay2.jpg" alt="Heritage Residency">
                <h3>Heritage Residency</h3>
                <p>Experience royalty near the Taj Mahal.</p>
                <button onclick="openBookingForm('Heritage Residency', 6000)">Book Now</button>
            </div>
        </div>
    </section>

    <section id="booking-section" class="booking-section" style="display: none;">
        <h2>Book Your Stay</h2>
        <div class="booking-details">
            <h3 id="selected-homestay">Homestay: </h3>
            <p id="homestay-price"></p>
    
            <label>Check-in Date:</label>
            <input type="date" id="checkin-date">
    
            <label>Check-out Date:</label>
            <input type="date" id="checkout-date">
    
            <label>Number of Guests:</label>
            <input type="number" id="guests" min="1" value="1">
    
            <h3>Total Nights: <span id="total-nights">0</span></h3>
            <h3>Total Price: <span id="total-price">₹0</span></h3>
    
            <button onclick="confirmBooking()">Confirm Booking</button>
        </div>
    
        <!-- Payment Selection -->
        <div id="payment-section" style="display: none;">
            <h2>Select Payment Method</h2>
            <div class="payment-options">
                <button onclick="selectPayment('GPay')">
                    <img src="gpay.png" alt="Google Pay"> GPay
                </button>
                <button onclick="selectPayment('Paytm')">
                    <img src="paytm.png" alt="Paytm"> Paytm
                </button>
                <button onclick="selectPayment('Credit Card')">
                    <img src="creditcard.png" alt="Credit Card"> Credit Card
                </button>
                <button onclick="selectPayment('UPI')">
                    <img src="upi.png" alt="UPI"> UPI
                </button>
            </div>
            <button id="place-order-btn" onclick="placeOrder()" style="display: none;">Place Order</button>
        </div>
    </section>
    

    <footer>
        <p>&copy; 2025 Taj Mahal Travel Guide</p>
    </footer>
<script>
    // Function to open the booking form
function openBookingForm(homestayName, homestayPrice) {
    document.getElementById("selected-homestay").innerText = "Homestay: " + homestayName;
    document.getElementById("homestay-price").innerText = "₹" + homestayPrice;
    document.getElementById("booking-section").style.display = "block";
    document.getElementById("payment-section").style.display = "none"; // Hide payment section initially
    document.getElementById("checkin-date").value = "";
    document.getElementById("checkout-date").value = "";
    document.getElementById("guests").value = 1;
    document.getElementById("total-nights").innerText = "0";
    document.getElementById("total-price").innerText = "₹0";
}

// Function to calculate total price
document.getElementById("checkout-date").addEventListener("change", calculateTotalPrice);
document.getElementById("checkin-date").addEventListener("change", calculateTotalPrice);
document.getElementById("guests").addEventListener("input", calculateTotalPrice);

function calculateTotalPrice() {
    let checkinDate = new Date(document.getElementById("checkin-date").value);
    let checkoutDate = new Date(document.getElementById("checkout-date").value);
    let guests = parseInt(document.getElementById("guests").value);
    let homestayPrice = parseInt(document.getElementById("homestay-price").innerText.replace("₹", ""));

    if (isNaN(homestayPrice) || checkinDate == "Invalid Date" || checkoutDate == "Invalid Date") {
        document.getElementById("total-nights").innerText = "0";
        document.getElementById("total-price").innerText = "₹0";
        return;
    }

    let timeDiff = checkoutDate - checkinDate;
    let totalNights = timeDiff / (1000 * 3600 * 24);

    if (totalNights > 0) {
        document.getElementById("total-nights").innerText = totalNights;
        let totalPrice = totalNights * homestayPrice * guests;
        document.getElementById("total-price").innerText = "₹" + totalPrice;
    } else {
        document.getElementById("total-nights").innerText = "0";
        document.getElementById("total-price").innerText = "₹0";
    }
}

// Function to show payment options after confirming booking
function confirmBooking() {
    let checkinDate = document.getElementById("checkin-date").value;
    let checkoutDate = document.getElementById("checkout-date").value;
    let totalPrice = document.getElementById("total-price").innerText;

    if (!checkinDate || !checkoutDate || totalPrice === "₹0") {
        alert("Please enter valid booking details.");
        return;
    }

    document.getElementById("payment-section").style.display = "block"; // Show payment options
}

// Function to select a payment method
let selectedPayment = "";

function selectPayment(method) {
    selectedPayment = method;
    alert(method + " selected for payment.");
    document.getElementById("place-order-btn").style.display = "block"; // Show "Place Order" button
}

// Function to place the order and redirect to payment
function placeOrder() {
    if (selectedPayment === "") {
        alert("Please select a payment method before placing your order.");
        return;
    }

    // Store booking details in sessionStorage
    sessionStorage.setItem("homestayName", document.getElementById("selected-homestay").innerText);
    sessionStorage.setItem("totalPrice", document.getElementById("total-price").innerText);
    sessionStorage.setItem("selectedPayment", selectedPayment);

    // Redirect to booking confirmation page
    window.location.href = "booking-confirmation.html";
}

</script>
</body>
</html>
